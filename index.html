<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Milo's NCAAB Scoreboard</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #f4f4f9; color: #333; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        h1 { color: #2c3e50; }
        #scoreboard { width: 100%; max-width: 600px; }
        .game-card { background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 15px; padding: 15px; display: flex; justify-content: space-between; align-items: center; }
        .team { display: flex; flex-direction: column; align-items: center; width: 40%; }
        .team-name { font-weight: bold; font-size: 1.1rem; text-align: center; }
        .score { font-size: 2rem; font-weight: bold; color: #e67e22; }
        .status { font-size: 0.9rem; color: #7f8c8d; text-align: center; margin-top: 5px; }
        .vs { font-weight: bold; color: #bdc3c7; }
        .last-update { font-size: 0.8rem; color: #95a5a6; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>üèÄ NCAAB Scoreboard</h1>
    <div id="scoreboard">Loading scores...</div>
    <div class="last-update" id="update-time"></div>

    <script>
        async function fetchScores() {
            try {
                const response = await fetch('scores.json?t=' + new Date().getTime());
                const data = await response.json();
                renderScores(data);
            } catch (error) {
                console.error('Error fetching scores:', error);
                document.getElementById('scoreboard').innerHTML = 'Failed to load scores.';
            }
        }

        function renderScores(data) {
            const container = document.getElementById('scoreboard');
            const timeContainer = document.getElementById('update-time');
            
            if (!data.games || data.games.length === 0) {
                container.innerHTML = 'No games currently tracked.';
                return;
            }

            container.innerHTML = data.games.map(game => `
                <div class="game-card">
                    <div class="team">
                        <span class="team-name">${game.awayTeam}</span>
                    </div>
                    <div class="score">${game.awayScore} - ${game.homeScore}</div>
                    <div class="team">
                        <span class="team-name">${game.homeTeam}</span>
                    </div>
                </div>
                <div class="status" style="margin-bottom: 20px; margin-top: -10px;">${game.status}</div>
            `).join('');

            timeContainer.innerText = 'Last updated: ' + data.lastUpdated;
        }

        fetchScores();
        setInterval(fetchScores, 60000); // Poll every minute
    </script>
</body>
</html>
